{
  "version": "1.0.0",
  "name": "maeple-mcp",
  "description": "Model Context Protocol configuration for MAEPLE development",
  "environment": {
    "workspaceRoot": "/opt/Maeple",
    "nodeVersion": "22+"
  },
  "servers": {
    "filesystem": {
      "enabled": true,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/opt/Maeple"],
      "description": "Read, write, and navigate the filesystem",
      "tools": [
        "read_file",
        "write_to_file",
        "list_files",
        "search_files",
        "list_code_definition_names"
      ],
      "permissions": {
        "allowedPaths": ["/opt/Maeple"],
        "deniedPaths": ["/opt/Maeple/node_modules", "/opt/Maeple/.git"]
      }
    },
    "git": {
      "enabled": true,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-git", "--repository", "/opt/Maeple"],
      "description": "Access git repository information",
      "tools": ["git_log", "git_diff", "git_status"],
      "permissions": {
        "repositoryPath": "/opt/Maeple"
      }
    },
    "brave-search": {
      "enabled": true,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-brave-search"],
      "description": "Search the web using Brave Search",
      "tools": ["search"],
      "apiKey": "${BRAVE_API_KEY}",
      "rateLimits": {
        "requestsPerMinute": 60
      }
    },
    "postgres": {
      "enabled": true,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres", "postgresql://localhost:5432/maeple"],
      "description": "Query PostgreSQL database",
      "tools": ["query", "execute", "schema"],
      "permissions": {
        "connectionString": "${DATABASE_URL}",
        "maxConnections": 10
      }
    },
    "memory": {
      "enabled": true,
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"],
      "description": "Persistent memory across sessions",
      "tools": ["read", "write", "search"],
      "storage": {
        "type": "file",
        "path": "/opt/Maeple/.mcp-memory"
      }
    }
  },
  "tools": {
    "read_file": {
      "description": "Read the contents of a file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Path to file relative to workspace root"
          }
        },
        "required": ["path"]
      }
    },
    "write_to_file": {
      "description": "Write content to a file (creates or overwrites)",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Path to file relative to workspace root"
          },
          "content": {
            "type": "string",
            "description": "Content to write to file"
          }
        },
        "required": ["path", "content"]
      }
    },
    "list_files": {
      "description": "List files and directories",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Path to directory"
          },
          "recursive": {
            "type": "boolean",
            "description": "List files recursively",
            "default": false
          }
        },
        "required": ["path"]
      }
    },
    "search_files": {
      "description": "Search for patterns across files",
      "inputSchema": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Directory path to search"
          },
          "regex": {
            "type": "string",
            "description": "Regular expression pattern to search for"
          },
          "filePattern": {
            "type": "string",
            "description": "File pattern filter (e.g., '*.ts')"
          }
        },
        "required": ["path", "regex"]
      }
    },
    "git_log": {
      "description": "Get git commit history",
      "inputSchema": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Number of commits to return",
            "default": 10
          }
        }
      }
    },
    "git_diff": {
      "description": "Get git diff between commits",
      "inputSchema": {
        "type": "object",
        "properties": {
          "fromRef": {
            "type": "string",
            "description": "From commit reference"
          },
          "toRef": {
            "type": "string",
            "description": "To commit reference"
          }
        }
      }
    },
    "search": {
      "description": "Search the web using Brave Search",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query"
          },
          "count": {
            "type": "number",
            "description": "Number of results to return",
            "default": 10
          }
        },
        "required": ["query"]
      }
    },
    "query": {
      "description": "Query PostgreSQL database",
      "inputSchema": {
        "type": "object",
        "properties": {
          "sql": {
            "type": "string",
            "description": "SQL query to execute"
          }
        },
        "required": ["sql"]
      }
    }
  },
  "environmentVariables": {
    "ZAI_API_KEY": {
      "description": "Z.ai API key for AI services",
      "required": false
    },
    "BRAVE_API_KEY": {
      "description": "Brave Search API key",
      "required": false
    },
    "DATABASE_URL": {
      "description": "PostgreSQL connection string",
      "required": true,
      "default": "postgresql://localhost:5432/maeple"
    },
    "GEMINI_API_KEY": {
      "description": "Google Gemini API key",
      "required": false
    }
  },
  "configuration": {
    "autoInstall": true,
    "cacheServers": true,
    "maxRetries": 3,
    "timeout": 30000,
    "logging": {
      "level": "info",
      "file": "/opt/Maeple/.mcp/logs/mcp.log"
    }
  }
}
